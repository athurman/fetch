#!/usr/bin/env ruby

require_relative 'lib/environment.rb'
require_relative 'lib/parse_arguments.rb'

command = ARGV[0]
options = ParseArguments.parse
options[:name] = ARGV[1]
error_messages = ParseArguments.validate(options)

Environment.environment = options[:environment] || "production"
database = Environment.database_connection

if error_messages.empty?
  shelterdog = ShelterDog.new(options)
  shelterdog.save
  puts "A shelter dog named #{options[:name]}, breed: #{options[:breed]}, shelter: #{options[:shelter]}, age: #{options[:age]} weight: #{options[:weight]} lbs. with status of #{options[:status]}."
else
  puts error_messages
end